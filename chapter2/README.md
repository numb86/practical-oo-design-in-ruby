# 第2章 単一責任のクラスを設計する

クラスをどのようなものにすればよいだろうか？  
今現在求められている動作を行いつつ、あとからの変更も簡単にできるようになっているべき。  
そのための設計論を1から考える必要はなく、既にたくさんの研究がある。

## 2.1 クラスに属するものを決める

どのようなクラスを作るかで、アプリケーションの全体像は大きく変わる。  
だから、メソッドを正しくグルーピングしてクラスにまとめることは、とても重要。  
しかし、プロジェクトの初期段階では、正しくグルーピングすることは出来ない。完成が近づくにつれ、そして完成後も機能の変更や追加が発生する度に、変更を余儀なくされる。

変更を安全かつ楽に行えるかは、設計によって決まる。  
**設計とは、アプリケーションの可変性を保つために技巧を凝らすことであり、完璧を目指すための行為ではない。**

変更を簡単に行えるのがよい設計だが、それを考える前にまず、「変更が簡単である」とはどういうことなのか定義しておきたい。

- 変更は副作用をもたらさない
- 要件の変更が小さければ、コードの変更も相応して小さい
- 既存のコードは簡単に再利用できる
- 最も簡単な変更方法はコードの追加である。ただし追加するコードはそれ自体変更が容易なものとする

以上が、「変更が簡単であること」の定義。  
この定義を満たすためには、コードは以下のような性質を持っているべき。

- **見通しがよい(`Transparent`)**： 変更するコードにおいても、そのコードに依存する別の場所のコードにおいても、変更がもたらす影響が明白である
- **合理的（`Reasonable`）**： どんな変更であっても、かかるコストは変更がもたらす利益にふさわしい
- **利用性が高い（`Usable`）**： 新しい環境、予期していなかった環境でも再利用できる
- **模範的（`Exemplary`）**： コードに変更を加える人が、上記の品質を自然と保つようなコードになっている

頭文字をとって`TRUE`と呼ぶが、`TRUE`なコードは、現在のニーズを満たしつつ、将来のニーズを満たすための変更を加えることも出来る。

そして、それぞれのクラスが単一の責任を持つようにすることが、`TRUE`なコードを書くための最初の一歩である。
