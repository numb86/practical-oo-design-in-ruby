# 第1章 オブジェクト指向設計

オブジェクト指向の世界では、全てをオブジェクトとして捉える。  
オブジェクトはそれぞれが自身の振る舞いを持ち、オブジェクト同士は互い作用し合う。  
世界を、オブジェクト間で受け渡されるメッセージの連続で捉える。  
オブジェクト指向設計で重要なのは、コーディングテクニックよりも、上記のような視点を持つこと。

この章では、オブジェクト指向設計や設計についての概要を述べる他、本書全体で用いるオブジェクト指向の用語の定義を行う。

## 1.1 設計の賞賛

オブジェクト指向設計は、楽しさと生産性を両立させるプログラミング手法である。

「一度書き上げたら決して変更しないアプリケーション」であるならば、そのアプリケーションに設計は不要。  
とにかく仕様を満たす形で書き上げてしまえば、あとはそれを稼働させ続ければよい。  
だが現実的には、変化は訪れる。仕様の変更や追加が発生する。変更は避けられない。だからこそ設計が重要になる。

設計とは、コードの構成のこと。  
そして設計の目的は、未来のために選択肢を残すこと。  
現時点と未来の両方に対して費用対効果の高いコードの構成を考える。  
分かっているのは、変更は必ず発生するということだけであり、どんな変更が発生するか予測することは出来ない。そのため、変更コストを下げることで、どんな未来にも対応できるようにする。

変更が容易なアプリケーションは書くのが楽しいが、変更を拒むアプリケーションは書くことが苦痛になる。  
何をするのにもコストがかかり、変更の度に、次の変更にかかるコストがかかっていく。

なぜ、変更が難しくなってしまうのだろうか。

オブジェクトはアプリケーションの部品であり、オブジェクト間でメッセージを受け渡して相互作用が発生することで、アプリケーション全体の振る舞いが生まれる。  
メッセージの受け渡しが正しく行われるためには、メッセージの送り手が、受け手のことを正しく知っている必要がある。  
この知識が、オブジェクト間に依存関係を生む。そして依存関係が、変更を邪魔する。

依存関係が管理されていないと、オブジェクトが互いのことを知りすぎてしまう。  
そうすると、オブジェクトを1つ変更した際に、そのオブジェクトとメッセージのやり取りをしている別のオブジェクトも変更しなければならなくなる。すると今度は、その別のオブジェクトとやり取りをしているまた別のオブジェクトも変更する羽目になる。  
このようにして、些細な変更でも波及的に影響範囲が拡がっていき、やがて手に負えなくなる。

**オブジェクト指向設計は、変更を許容できるようなかたちでオブジェクトの依存関係を構成していくための、コーディングテクニックの集まり。**
